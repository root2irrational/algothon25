
corr = 0.9
[[2, 20], [2, 6], [11, 23]]

corr = 0.85
[[2, 6], [2, 20], [11, 23], [22, 29], [29, 42], [31, 9], [33, 1]]

corr = 0.8
[[2, 6], [2, 20], [7, 13], [11, 13], [11, 23], [22, 29], [29, 42], [31, 9], [31, 14], [33, 1], [33, 6], [48, 49]]

corr = 0.25
[[0, 40], [2, 6], [2, 20], [6, 18], [7, 13], [8, 0], [8, 19], [8, 25], [8, 35], 
   [8, 37], [8, 40], [8, 47], [11, 13], [11, 23], [15, 18], [18, 2], [18, 4], [18, 16], 
   [18, 20], [18, 30], [18, 38], [18, 43], [22, 29], [25, 20], [25, 35], [26, 28], [26, 42], 
   [26, 45], [26, 48], [29, 42], [31, 9], [31, 14], [33, 1], [33, 2], [33, 4], [33, 6], [33, 16], 
   [33, 19], [33, 20], [33, 30], [33, 35], [33, 47], [37, 0], [37, 19], [37, 25], [48, 11], [48, 12], 
   [48, 17], [48, 23], [48, 24], [48, 29], [48, 34], [48, 39], [48, 42], [48, 49]]

# pairs = np.array([[2,6]])
# pairs = np.array([[2, 6], [8, 0], [11, 23], [18, 4], [18, 16], [18, 30], [33, 2], [33, 4], [33, 16], [33, 19], 
#                   [33, 20], [33, 30], [33, 35], [48, 26], [48, 49]]) # coint < 0.01

# pairs = np.array([[20, 33], [48, 49]]) # coint < 0.001
# corr = 0.75, coint < 0.1
# pairs = np.array(
#   [[2, 6], [2, 16], [2, 20], [2, 35], [6, 20], [7, 11], [7, 13], [9, 31], [11, 13], 
#   [11, 23], [11, 39], [14, 31], [19, 33], [19, 35], [22, 29], [25, 1], [25, 33], [25, 37], 
#   [29, 42], [31, 21], [31, 27], [33, 1], [33, 6], [35, 20], [43, 2], [48, 49]])
#corr = 0.75, coint < 0.2
# pairs = np.array(
#   [[1, 33], [2, 4], [2, 6], [2, 16], [2, 20], [2, 35], [4, 20], [6, 4], [6, 20], [6, 35], 
#    [7, 11], [7, 13], [9, 31], [11, 12], [11, 13], [11, 23], [11, 39], [14, 9], [14, 31], 
#    [16, 20], [16, 35], [19, 33], [19, 35], [20, 35], [21, 31], [22, 29], [25, 1], [25, 33], 
#    [25, 37], [27, 5], [27, 9], [27, 30], [27, 31], [29, 42], [33, 6], [35, 4], [43, 2], [47, 20], [48, 49]]
# )
# pairs = np.array([[2, 20], [2, 6], [11, 23]]) # corr = 0.9
pairs = np.array([[2, 6], [2, 20], [11, 23], [22, 29], [29, 42], [31, 9], [33, 1]]) # corr = 0.85
# pairs = np.array([[2, 6], [2, 20], [7, 13], [11, 13], [11, 23], [22, 29], [29, 42], [31, 9], [31, 14], [33, 1], [33, 6], [48, 49]]) # corr = 0.8
# -- below is for corr = 0.25, coint < 0.05
# pairs = np.array(
#   [[0, 40], [2, 6], [2, 20], [6, 18], [7, 13], [8, 0], [8, 19], [8, 25], [8, 35], 
#    [8, 37], [8, 40], [8, 47], [11, 13], [11, 23], [15, 18], [18, 2], [18, 4], [18, 16], 
#    [18, 20], [18, 30], [18, 38], [18, 43], [22, 29], [25, 20], [25, 35], [26, 28], [26, 42], 
#    [26, 45], [26, 48], [29, 42], [31, 9], [31, 14], [33, 1], [33, 2], [33, 4], [33, 6], [33, 16], 
#    [33, 19], [33, 20], [33, 30], [33, 35], [33, 47], [37, 0], [37, 19], [37, 25], [48, 11], [48, 12], 
#    [48, 17], [48, 23], [48, 24], [48, 29], [48, 34], [48, 39], [48, 42], [48, 49]]
# )

def convertForecastFromDiff(transformed_forecasts):
  boxcox_forecasts = []
  for idx in range(len(test)):
    if idx == 0:
      boxcox_forecast = transformed_forecasts[idx] + trainBoxcox[-1]
    else:
      boxcox_forecast = transformed_forecasts[idx] + boxcox_forecasts[idx-1]

    boxcox_forecasts.append(boxcox_forecast)

  forecasts = inv_boxcox(boxcox_forecasts, lambda_mle)
  return forecasts

def arModel(series, lags, test):
  selector = ar_select_order(series, lags)
  model = AutoReg(series, lags=selector.ar_lags).fit()
  against = test
  transformed_forecasts = list(model.forecast(steps=len(against)))
  pred = transformed_forecasts
  last_price = train[-1]
  pred = last_price * np.exp(np.cumsum(transformed_forecasts))
  return pred

# corr = 0.8, coint < 0.1
pairs = np.array(
  [[2, 6], [2, 16], [2, 20], [2, 35], [6, 20], [7, 11], [7, 13], [9, 31], [11, 13], 
  [11, 23], [11, 39], [14, 31], [22, 29], [25, 33], [29, 42], [31, 21], [31, 27], 
  [33, 1], [33, 6], [35, 20], [43, 2], [48, 49]])

# corr = 0.8, coint < 0.1
negPairs = np.array(
  [[1, 49], [2, 22], [2, 29], [6, 22], [6, 29], [16, 22], [16, 29], [20, 22], [22, 2], 
   [22, 4], [22, 6], [22, 16], [22, 20], [22, 35], [25, 49], [29, 2], [29, 6], [29, 16], 
   [33, 49], [35, 22], [49, 1], [49, 25], [49, 33]]
)
# corr = 0.25
pairs = [[0, 4], [0, 16], [0, 36], [0, 45], [1, 5], [1, 9], [1, 14], [1, 27], [1, 32], [1, 38], 
             [1, 40], [1, 44], [2, 31], [2, 36], [2, 37], [2, 40], [2, 41], [2, 44], [3, 5], [3, 10], 
             [3, 15], [3, 18], [3, 22], [3, 30], [3, 41], [3, 48], [3, 49], [4, 31], [4, 37], [4, 40], 
             [4, 41], [4, 44], [5, 19], [5, 24], [5, 33], [5, 36], [5, 47], [5, 48], [6, 14], [6, 31], 
             [6, 37], [6, 40], [6, 44], [7, 9], [7, 14], [7, 24], [7, 26], [7, 31], [7, 38], [7, 41], 
             [7, 42], [7, 44], [7, 45], [7, 48], [8, 10], [8, 18], [8, 30], [8, 45], [9, 11], [9, 12], 
             [9, 17], [9, 19], [9, 23], [9, 33], [9, 34], [9, 43], [9, 47], [9, 48], [10, 12], [10, 15], 
             [10, 21], [10, 22], [10, 24], [10, 26], [10, 28], [10, 29], [10, 34], [10, 40], [10, 41], [10, 42], 
             [10, 49], [11, 14], [11, 24], [11, 28], [11, 31], [11, 38], [11, 41], [11, 44], 
             [12, 14], [12, 24], [12, 28], [12, 31], [12, 44], [13, 26], [13, 27], [13, 41], [13, 42], [13, 45], 
             [13, 48], [14, 19], [14, 20], [14, 23], [14, 34], [14, 39], [14, 43], [14, 46], [14, 48], [15, 19], 
             [15, 24], [15, 36], [15, 43], [15, 48], [15, 49], [16, 21], [16, 37], [16, 41], [17, 24], [17, 27], 
             [17, 28], [17, 38], [17, 41], [17, 44], [17, 46], [18, 33], [18, 34], [19, 27], [19, 31], [19, 38], 
             [19, 44], [20, 31], [20, 36], [20, 40], [20, 41], [20, 44], [21, 22], [21, 26], [21, 32], [21, 46], 
             [22, 36], [22, 37], [23, 24], [23, 28], [23, 31], [23, 38], [23, 41], [23, 44], [24, 32], [24, 39], 
             [24, 40], [24, 45], [25, 30], [25, 40], [26, 36], [26, 39], [26, 40], [27, 33], [27, 39], [27, 46], 
             [27, 47], [27, 48], [28, 37], [28, 39], [28, 46], [29, 36], [29, 40], [31, 35], [31, 43], [31, 46], 
             [31, 48], [31, 49], [32, 33], [32, 34], [32, 44], [32, 46], [33, 38], [33, 40], [33, 44], [34, 36], 
             [34, 38], [35, 36], [35, 37], [35, 38], [35, 40], [35, 41], [36, 41], [36, 45], [36, 47], [36, 48], 
             [37, 43], [37, 45], [37, 47], [38, 39], [38, 43], [38, 47], [39, 41], [39, 42], [39, 45], [40, 43], 
             [40, 45], [41, 42], [41, 43], [41, 44], [43, 44], [43, 46], [45, 46], [45, 49]]

#
pairs = [[1, 2], [4, 5], [6, 7], [9, 13], [14, 15], [16, 18], [19, 20], [25, 27], [30, 33], [34, 35], [38, 41], [43, 44]]
    # pairs = [[0,2], [2,3], [0,9] ]
    pairs = [[2,3]]
    pairs = [[1, 5], [1, 14], [2, 36], [2, 41], [3, 22], [3, 48], [4, 37], [5, 24], [7, 9], [7, 24], 
             [7, 45], [8, 18], [8, 30], [9, 11], [9, 12], [9, 23], [9, 48], [10, 24], [10, 28], [10, 41], 
             [11, 14], [11, 41], [13, 45], [14, 23], [14, 46], [15, 24], [16, 37], [17, 27], [19, 31], [19, 44], 
             [22, 36], [22, 37], [23, 28], [23, 38], [23, 41], [25, 40], [28, 39], [31, 46], [31, 49], [33, 40], 
             [35, 37], [36, 41], [36, 47], [39, 45], [40, 43], [41, 42], [41, 43]]